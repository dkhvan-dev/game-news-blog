<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head th:insert="~{/toInsert/head.html}">
    <title>Admin Panel</title>
</head>
<body>

    <div th:insert="~{/toInsert/preloader.html}"></div>

    <!-- Header section -->
    <header th:insert="~{/toInsert/header.html}">
    </header>
    <!-- Header section end -->

    <main class="d-flex flex-column profileSection">
        <div class="container mt-3">
            <div>
                <div class="alert alert-success" role="alert" th:if="${param.success}">
                    Game was edited successfully!
                </div>
                <form class="mb-5" th:action="@{'/editGame'}" method="post" enctype="multipart/form-data">
                    <input type="hidden" name="gameId" th:value="${game.gameId}">
                    <div class="mt-3">
                        <label>Name:
                            <input type="text" class="form-control" name="gameName" th:value="${game.gameName}" th:placeholder="${game.gameName}" required>
                        </label>
                    </div>
                    <div class="mt-3">
                        <label>Age:
                            <input type="number" class="form-control" name="gameAge" th:value="${game.gameAge}" th:placeholder="${game.gameAge}" required>
                        </label>
                    </div>
                    <div class="mt-3">
                        <label class="form-label">Image: <br>
                            <img class="img-thumbnail gameImageAdmin" th:src="@{'/getGameImage/' + ${game.gameImage}}">
                            <input type="hidden" name="gameImage" th:value="${game.gameImage}">
                            <input class="form-control mt-3" type="file" name="gameImageToken">
                        </label>
                    </div>
                    <div class="mt-3">
                        <label>Description:
                            <textarea id="tinyMceTextarea" class="form-control" name="gameDescription" th:text="${game.gameDescription}"></textarea>
                        </label>
                    </div>
                    <div class="mt-3">
                        <div class="form-check" th:each="platform : ${allPlatforms}">
                            <input class="form-check-input" type="checkbox" name="platform" th:value="${platform.platformId}" th:id="${platform.platformId}" th:checked="${game.getPlatform().contains(platform)}">
                            <label class="form-check-label" th:for="${platform.platformId}" th:text="${platform.platformName}">
                            </label>
                        </div>
                    </div>
                    <div class="mt-3">
                        <div class="form-check" th:each="genre : ${allGenres}">
                            <input class="form-check-input" type="checkbox" name="genres" th:value="${genre.genreId}" th:id="${genre.genreId}" th:checked="${game.getGenres().contains(genre)}">
                            <label class="form-check-label" th:for="${genre.genreId}" th:text="${genre.genreName}">
                            </label>
                        </div>
                    </div>
                    <div class="mt-3">
                        <input type="hidden" name="gameRequirementsId" th:value="${gameRequirements.getGameRequirementsId()}">
                        <span>Game requirements:</span><br>
                        <label class="form-label mt-3">
                            Operation system:
                            <input class="form-control" type="text" name="gameRequirementsOS" th:value="${gameRequirements.getGameRequirementsOS()}">
                        </label>
                        <label class="form-label mt-3">
                            CPU:
                            <input class="form-control" type="text" name="gameRequirementsCPU" th:value="${gameRequirements.getGameRequirementsCPU()}">
                        </label>
                        <label class="form-label mt-3">
                            Memory:
                            <input class="form-control" type="text" name="gameRequirementsMemory" th:value="${gameRequirements.getGameRequirementsMemory()}">
                        </label>
                        <label class="form-label mt-3">
                            GPU:
                            <input class="form-control" type="text" name="gameRequirementsGPU" th:value="${gameRequirements.getGameRequirementsGPU()}">
                        </label>
                        <label class="form-label mt-3">
                            Storage:
                            <input class="form-control" type="text" name="gameRequirementsStorage" th:value="${gameRequirements.getGameRequirementsStorage()}">
                        </label>
                    </div>

                    <div class="mt-3">
                        <span>Game rating:</span><br>
                        <input type="hidden" name="gameRatingId" th:value="${gameRating.getGameRatingId()}">
                        <label class="form-label mt-3">
                            Gameplay:
                            <input class="form-control" type="number" step="0.1" name="gameRatingGameplay" th:value="${gameRating.getGameRatingGameplay()}">
                        </label>
                        <label class="form-label mt-3">
                            Graphics:
                            <input class="form-control" type="number" step="0.1" name="gameRatingGraphics" th:value="${gameRating.getGameRatingGraphics()}">
                        </label>
                        <label class="form-label mt-3">
                            Difficulty:
                            <input class="form-control" type="number" step="0.1" name="gameRatingDifficulty" th:value="${gameRating.getGameRatingDifficulty()}">
                        </label>
                        <label class="form-label mt-3">
                            Average rating:
                            <input class="form-control" type="number" step="0.1" name="gameRatingAvg" th:value="${gameRating.getGameRatingAvg()}">
                        </label>
                    </div>
                    <button class="btn btn-primary mt-3">Edit game</button>
                </form>
            </div>

        </div>

    </main>

    <!-- Footer section -->
    <footer class="footer-section" th:insert="~{/toInsert/footer.html}">
    </footer>
    <!-- Footer section end -->

    <div th:insert="~{/toInsert/scripts.html}"></div>
</body>
</html>
